
<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>用户登录</title>
    <link href="~/Content/js/jquery-mobile/css/themes/default/jquery.mobile-1.4.5.min.css" rel="stylesheet" />
</head>
<body>
    <div class="ui-field-contain">
        <input type="text" name="userId" class="ui-icon-user ui-btn-icon-left" id="userId" value="" placeholder="输入用户名" data-clear-btn="true">
        <input type="password" name="pwd" id="pwd" value="" placeholder="输入密码" data-clear-btn="true">
        <button id="btnLogin" class="ui-btn ui-icon-user ui-btn-icon-left ui-shadow-icon ui-btn-b"> 登 录 </button>
    </div>
    <div data-role="popup" id="loginInfo" class="ui-content" data-theme="a">
        <p>提示：<span id="spanLoginInfo"></span></p>
    </div>
    <script src="~/Content/js/jquery-mobile/js/jquery.min.js"></script>
    <script src="~/Content/js/jquery-mobile/js/jquery.mobile-1.4.5.min.js"></script>
    <script src="~/Content/js/common.js"></script>
    <script type="text/javascript">

        $(function () {
            $('#btnLogin').click(function () {
                var postData = {userId:$('#userId').val(),pwd:$('#pwd').val()};
                $.axs('/Home/LoginIn', postData, function (data) {
                    if (data.result == 1) {
                        $('#spanLoginInfo').html('登录成功,跳转中...');
                        var options = {
                            transition: 'flip'
                        };
                        $('#loginInfo').popup("open", options);
                        window.location.href = "/Home/Index";
                    } else {
                        $('#spanLoginInfo').html('用户名或密码错误！');
                        var options = {
                            transition: 'flip'
                        };
                        $('#loginInfo').popup("open", options);
                    }
                });
            });
        });

          

    </script>
</body>
</html>

